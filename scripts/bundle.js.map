{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\n$(document).ready(function(){\n\n\t// target elements needed\n\tvar $imageUrl = $('#image-url');\n\tvar $imageCaption = $('.image-caption');\n\tvar $errorUrl = $('#error-url');\n\tvar $errorCaption = $('#error-caption');\n\tvar $toggleButton = $('.toggle-button');\n\tvar $toggleIcon = $('#toggle-icon');\n\tvar $bigFormBox = $('.form-big-box');\n\tvar $form = $('form');\n\tvar $cancelButton = $('#cancel-button');\n\tvar $galleryBox = $('.gallery-box');\n\tvar $gallery = $('#gallery');\n\tvar $deleteAllButton = $('#delete-all-button');\n\tvar url = 'http://tiyfe.herokuapp.com/collections/mike_m_image_board/';\n\n\t// Initialize material box for picture viewing\n\t$('.materialboxed').materialbox();\n\n\t// toggles the form element to show or hide\n\t$toggleButton.click(function() {\n\t\tif($toggleIcon.html() === 'expand_more') {\n\t\t\t$toggleIcon.html('expand_less');\n\t\t\t$bigFormBox.show(200);\n\t\t} else if($toggleIcon.html() === 'expand_less') {\n\t\t\t$toggleIcon.html('expand_more');\n\t\t\t$bigFormBox.hide(200);\n\t\t}\n\t});\n\n\t// cancel button clears input fields\n\t$cancelButton.click(function() {\n\t\t$imageUrl.val('');\n\t\t$imageCaption.val('');\n\t});\n\n\t// function to show images in gallery\n\tvar displayGallery = function() {\n\t\t$imageUrl.val('');\n\t\t$imageCaption.val('');\n\t\t$gallery.html('');\n\t\t$gallery.show();\n\t\t$deleteAllButton.show();\n\n\t\t$.get(\n\t\t\turl,\n\t\t\tfunction(response){\n\t\t\t\tresponse.forEach(function(response, index) {\n\t\t\t\t\tvar newString = '<div id=\"photo-box\"><img class=\"materialboxed\" data-caption=\"' + response.caption + '\" src=\"' + response.url + '\"><p>' + response.caption + '</p></div>';\n\t\t\t\t\t$gallery.append(newString);\n\t\t\t}),\n\t\t\t'json'\n\t\t});\n\t};\n\n\t// call function to start page with current gallery images\n\tdisplayGallery();\n\n\t// actions that happen when form is submitted\n\t$form.submit(function(e) {\n\t\te.preventDefault();\n\t\tvar newUrl = $imageUrl.val();\n\t\tvar newCaption = $imageCaption.val();\n\t\tvar validUrl = true;\n\t\tvar validCaption = true;\n\n\t\t// validate URL\n\t\tif ( ((newUrl.indexOf('http://') !== -1) || (newUrl.indexOf('https://') !== -1)) && ((newUrl.indexOf('.jpg') !== -1) || (newUrl.indexOf('.jpeg') !== -1) || (newUrl.indexOf('.gif') !== -1) || (newUrl.indexOf('.bmp') !== -1) || (newUrl.indexOf('.webp') !== -1) || (newUrl.indexOf('.png') !== -1)) ) {\n\t\t\t$errorUrl.html('');\n\t\t\t$imageUrl.css( {borderLeft: 'none'});\n\t\t\tvalidUrl = true;\n\t\t}\n\t\telse {\n\t\t\t$errorUrl.html('<span>Please input a valid URL in a picture format.</span>');\n\t\t\t$imageUrl.css( {borderLeft: '4px solid red'});\n\t\t\tvalidUrl = false;\n\t\t}\n\n\t\t// validate caption\n\t\tif (newCaption !== '' || newCaption !== ' ') {\n\t\t\t$errorCaption.html('');\n\t\t\t$imageCaption.css( {borderLeft: '1px solid black'});\n\t\t\tvalidCaption = true;\n\t\t}\n\t\telse {\n\t\t\t$errorCaption.html('<span>Please submit a caption.</span>');\n\t\t\t$imageCaption.css( {borderLeft: '4px solid red'});\n\t\t\tvalidCaption = false;\n\t\t}\n\n\t\tif (validUrl === true && validCaption === true) {\n\t\t\t$.post(\n\t\t\t\turl,\n\t\t\t\t{\n\t\t\t\t\turl: newUrl,\n\t\t\t\t\tcaption: newCaption\n\t\t\t\t},\n\t\t\t\tdisplayGallery,\n\t\t\t\t'json'\n\t\t\t);\n\t\t}\n\t});\n\n\t// function to Delete All pictures from the server\n\tfunction onDeleteAll() {\n\t\t$.get(\n\t\t\turl,\n\t\t\tfunction (response) {\n\t\t\t\tresponse.forEach(function(record) {\n\t\t\t\t\tvar newUrl = url + record._id;\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: newUrl,\n\t\t\t\t\t\tmethod: 'DELETE'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t'json'\n\t\t);\n\t\t$imageUrl.val('');\n\t\t$imageCaption.val('');\n\t\t$gallery.html('');\n\t\t$gallery.hide();\n\t}\n\n\t$deleteAllButton.click(onDeleteAll);\n\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvbWljaGFlbG1hdGhldy9jb2RlL2pxdWVyeS1pbWFnZS1ib2FyZC9zY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxZQUFZLENBQUM7O0FBRWIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFVOzs7QUFHM0IsS0FBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ2hDLEtBQUksYUFBYSxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hDLEtBQUksU0FBUyxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNoQyxLQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUN4QyxLQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUN4QyxLQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDcEMsS0FBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3JDLEtBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN0QixLQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUN4QyxLQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDcEMsS0FBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzdCLEtBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDL0MsS0FBSSxHQUFHLEdBQUcsNERBQTRELENBQUM7OztBQUd2RSxFQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7O0FBR2xDLGNBQWEsQ0FBQyxLQUFLLENBQUMsWUFBVztB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QUM7SUFDSCxDQUFDLENBQUM7R0FDSCxFQUNELE1BQU0sQ0FDTixDQUFDO0FBQ0YsV0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNsQixlQUFhLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3RCLFVBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbEIsVUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0VBQ2hCOztBQUVELGlCQUFnQixDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztDQUVwQyxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG5cdC8vIHRhcmdldCBlbGVtZW50cyBuZWVkZWRcblx0dmFyICRpbWFnZVVybCA9ICQoJyNpbWFnZS11cmwnKTtcblx0dmFyICRpbWFnZUNhcHRpb24gPSAkKCcuaW1hZ2UtY2FwdGlvbicpO1xuXHR2YXIgJGVycm9yVXJsID0gJCgnI2Vycm9yLXVybCcpO1xuXHR2YXIgJGVycm9yQ2FwdGlvbiA9ICQoJyNlcnJvci1jYXB0aW9uJyk7XG5cdHZhciAkdG9nZ2xlQnV0dG9uID0gJCgnLnRvZ2dsZS1idXR0b24nKTtcblx0dmFyICR0b2dnbGVJY29uID0gJCgnI3RvZ2dsZS1pY29uJyk7XG5cdHZhciAkYmlnRm9ybUJveCA9ICQoJy5mb3JtLWJpZy1ib3gnKTtcblx0dmFyICRmb3JtID0gJCgnZm9ybScpO1xuXHR2YXIgJGNhbmNlbEJ1dHRvbiA9ICQoJyNjYW5jZWwtYnV0dG9uJyk7XG5cdHZhciAkZ2FsbGVyeUJveCA9ICQoJy5nYWxsZXJ5LWJveCcpO1xuXHR2YXIgJGdhbGxlcnkgPSAkKCcjZ2FsbGVyeScpO1xuXHR2YXIgJGRlbGV0ZUFsbEJ1dHRvbiA9ICQoJyNkZWxldGUtYWxsLWJ1dHRvbicpO1xuXHR2YXIgdXJsID0gJ2h0dHA6Ly90aXlmZS5oZXJva3VhcHAuY29tL2NvbGxlY3Rpb25zL21pa2VfbV9pbWFnZV9ib2FyZC8nO1xuXG5cdC8vIEluaXRpYWxpemUgbWF0ZXJpYWwgYm94IGZvciBwaWN0dXJlIHZpZXdpbmdcblx0JCgnLm1hdGVyaWFsYm94ZWQnKS5tYXRlcmlhbGJveCgpO1xuXG5cdC8vIHRvZ2dsZXMgdGhlIGZvcm0gZWxlbWVudCB0byBzaG93IG9yIGhpZGVcblx0JHRvZ2dsZUJ1dHRvbi5jbGljayhmdW5jdGlvbigpIHtcblx0XHRpZigkdG9nZ2xlSWNvbi5odG1sKCkgPT09ICdleHBhbmRfbW9yZScpIHtcblx0XHRcdCR0b2dnbGVJY29uLmh0bWwoJ2V4cGFuZF9sZXNzJyk7XG5cdFx0XHQkYmlnRm9ybUJveC5zaG93KDIwMCk7XG5cdFx0fSBlbHNlIGlmKCR0b2dnbGVJY29uLmh0bWwoKSA9PT0gJ2V4cGFuZF9sZXNzJykge1xuXHRcdFx0JHRvZ2dsZUljb24uaHRtbCgnZXhwYW5kX21vcmUnKTtcblx0XHRcdCRiaWdGb3JtQm94LmhpZGUoMjAwKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIGNhbmNlbCBidXR0b24gY2xlYXJzIGlucHV0IGZpZWxkc1xuXHQkY2FuY2VsQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdCRpbWFnZVVybC52YWwoJycpO1xuXHRcdCRpbWFnZUNhcHRpb24udmFsKCcnKTtcblx0fSk7XG5cblx0Ly8gZnVuY3Rpb24gdG8gc2hvdyBpbWFnZXMgaW4gZ2FsbGVyeVxuXHR2YXIgZGlzcGxheUdhbGxlcnkgPSBmdW5jdGlvbigpIHtcblx0XHQkaW1hZ2VVcmwudmFsKCcnKTtcblx0XHQkaW1hZ2VDYXB0aW9uLnZhbCgnJyk7XG5cdFx0JGdhbGxlcnkuaHRtbCgnJyk7XG5cdFx0JGdhbGxlcnkuc2hvdygpO1xuXHRcdCRkZWxldGVBbGxCdXR0b24uc2hvdygpO1xuXG5cdFx0JC5nZXQoXG5cdFx0XHR1cmwsXG5cdFx0XHRmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24ocmVzcG9uc2UsIGluZGV4KSB7XG5cdFx0XHRcdFx0dmFyIG5ld1N0cmluZyA9ICc8ZGl2IGlkPVwicGhvdG8tYm94XCI+PGltZyBjbGFzcz1cIm1hdGVyaWFsYm94ZWRcIiBkYXRhLWNhcHRpb249XCInICsgcmVzcG9uc2UuY2FwdGlvbiArICdcIiBzcmM9XCInICsgcmVzcG9uc2UudXJsICsgJ1wiPjxwPicgKyByZXNwb25zZS5jYXB0aW9uICsgJzwvcD48L2Rpdj4nO1xuXHRcdFx0XHRcdCRnYWxsZXJ5LmFwcGVuZChuZXdTdHJpbmcpO1xuXHRcdFx0fSksXG5cdFx0XHQnanNvbidcblx0XHR9KTtcblx0fTtcblxuXHQvLyBjYWxsIGZ1bmN0aW9uIHRvIHN0YXJ0IHBhZ2Ugd2l0aCBjdXJyZW50IGdhbGxlcnkgaW1hZ2VzXG5cdGRpc3BsYXlHYWxsZXJ5KCk7XG5cblx0Ly8gYWN0aW9ucyB0aGF0IGhhcHBlbiB3aGVuIGZvcm0gaXMgc3VibWl0dGVkXG5cdCRmb3JtLnN1Ym1pdChmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBuZXdVcmwgPSAkaW1hZ2VVcmwudmFsKCk7XG5cdFx0dmFyIG5ld0NhcHRpb24gPSAkaW1hZ2VDYXB0aW9uLnZhbCgpO1xuXHRcdHZhciB2YWxpZFVybCA9IHRydWU7XG5cdFx0dmFyIHZhbGlkQ2FwdGlvbiA9IHRydWU7XG5cblx0XHQvLyB2YWxpZGF0ZSBVUkxcblx0XHRpZiAoICgobmV3VXJsLmluZGV4T2YoJ2h0dHA6Ly8nKSAhPT0gLTEpIHx8IChuZXdVcmwuaW5kZXhPZignaHR0cHM6Ly8nKSAhPT0gLTEpKSAmJiAoKG5ld1VybC5pbmRleE9mKCcuanBnJykgIT09IC0xKSB8fCAobmV3VXJsLmluZGV4T2YoJy5qcGVnJykgIT09IC0xKSB8fCAobmV3VXJsLmluZGV4T2YoJy5naWYnKSAhPT0gLTEpIHx8IChuZXdVcmwuaW5kZXhPZignLmJtcCcpICE9PSAtMSkgfHwgKG5ld1VybC5pbmRleE9mKCcud2VicCcpICE9PSAtMSkgfHwgKG5ld1VybC5pbmRleE9mKCcucG5nJykgIT09IC0xKSkgKSB7XG5cdFx0XHQkZXJyb3JVcmwuaHRtbCgnJyk7XG5cdFx0XHQkaW1hZ2VVcmwuY3NzKCB7Ym9yZGVyTGVmdDogJ25vbmUnfSk7XG5cdFx0XHR2YWxpZFVybCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0JGVycm9yVXJsLmh0bWwoJzxzcGFuPlBsZWFzZSBpbnB1dCBhIHZhbGlkIFVSTCBpbiBhIHBpY3R1cmUgZm9ybWF0Ljwvc3Bhbj4nKTtcblx0XHRcdCRpbWFnZVVybC5jc3MoIHtib3JkZXJMZWZ0OiAnNHB4IHNvbGlkIHJlZCd9KTtcblx0XHRcdHZhbGlkVXJsID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gdmFsaWRhdGUgY2FwdGlvblxuXHRcdGlmIChuZXdDYXB0aW9uICE9PSAnJyB8fCBuZXdDYXB0aW9uICE9PSAnICcpIHtcblx0XHRcdCRlcnJvckNhcHRpb24uaHRtbCgnJyk7XG5cdFx0XHQkaW1hZ2VDYXB0aW9uLmNzcygge2JvcmRlckxlZnQ6ICcxcHggc29saWQgYmxhY2snfSk7XG5cdFx0XHR2YWxpZENhcHRpb24gPSB0cnVlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdCRlcnJvckNhcHRpb24uaHRtbCgnPHNwYW4+UGxlYXNlIHN1Ym1pdCBhIGNhcHRpb24uPC9zcGFuPicpO1xuXHRcdFx0JGltYWdlQ2FwdGlvbi5jc3MoIHtib3JkZXJMZWZ0OiAnNHB4IHNvbGlkIHJlZCd9KTtcblx0XHRcdHZhbGlkQ2FwdGlvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICh2YWxpZFVybCA9PT0gdHJ1ZSAmJiB2YWxpZENhcHRpb24gPT09IHRydWUpIHtcblx0XHRcdCQucG9zdChcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dXJsOiBuZXdVcmwsXG5cdFx0XHRcdFx0Y2FwdGlvbjogbmV3Q2FwdGlvblxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkaXNwbGF5R2FsbGVyeSxcblx0XHRcdFx0J2pzb24nXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gZnVuY3Rpb24gdG8gRGVsZXRlIEFsbCBwaWN0dXJlcyBmcm9tIHRoZSBzZXJ2ZXJcblx0ZnVuY3Rpb24gb25EZWxldGVBbGwoKSB7XG5cdFx0JC5nZXQoXG5cdFx0XHR1cmwsXG5cdFx0XHRmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0cmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihyZWNvcmQpIHtcblx0XHRcdFx0XHR2YXIgbmV3VXJsID0gdXJsICsgcmVjb3JkLl9pZDtcblx0XHRcdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHRcdFx0dXJsOiBuZXdVcmwsXG5cdFx0XHRcdFx0XHRtZXRob2Q6ICdERUxFVEUnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdCdqc29uJ1xuXHRcdCk7XG5cdFx0JGltYWdlVXJsLnZhbCgnJyk7XG5cdFx0JGltYWdlQ2FwdGlvbi52YWwoJycpO1xuXHRcdCRnYWxsZXJ5Lmh0bWwoJycpO1xuXHRcdCRnYWxsZXJ5LmhpZGUoKTtcblx0fVxuXG5cdCRkZWxldGVBbGxCdXR0b24uY2xpY2sob25EZWxldGVBbGwpO1xuXG59KTtcbiJdfQ=="}